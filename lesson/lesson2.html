<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta http-equiv="x-ua-compatible" content="IE=Edge">
<meta name="viewport" content="widdiv=device-widdiv,initial-scale=1">
<title>レッスン２</title>
<link type="text/css" href="lesson.css" rel="stylesheet">
<style>
.x, .b {
	height:13px;
	font-size:9px;
}
.x > div,
.b > div {
	padding:0;
	border:1px solid gray;
	width:12px;
	height:12px;
	display: inline-block;
	vertical-align:top;
	text-align:center;
	margin-top: -1px;
	margin-left: -1px;
}
.b > div:first-child {
	border-color: white;
}
.x > div {
	border-color: white;
}
</style>
<script type='text/javascript' src="../index/post.js"></script>
<script>
window.onload = function() {
	post_init("lesson2");
}
</script>
</head>
<body>
<h3>レッスン２ 「オセロ」を表示してみよう</h3>

<table>
<tr><td valign=top><img src=../othello/othello.png></td>
<td><p>オセロプログラムは、無線の受信・送信を行うスプライト（メイン）と64個のスプライト（コマ）の構成で動かします</p>
</td></tr>

<tr><td>
<div class=x><div></div><div>0</div><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div></div>
<div class=b><div>0</div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
<div class=b><div>1</div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
<div class=b><div>2</div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
<div class=b><div>3</div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
<div class=b><div>4</div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
<div class=b><div>5</div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
<div class=b><div>6</div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
<div class=b><div>7</div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
</td><td><p>盤の座標は、左の値とします</p>
<p>１列に横に８このスプライトを並べます<br>
さらに、１列：８このスプライトを８列つくり盤を作ります</p>
</td></tr>

</table>

<h3>まず、スプライト（コマ）を作ります</h3>

<li>スプライト（コマ）は「隠す」ようにしておきます</li>

<table>
<tr><td><img src=l2_hide.png></td>
<td></td></tr>
</table>

<li>コマ（イメージ）の大きさは、横20ｘ縦20 で作ります</li>

<table>
<tr><td><img src=l2_base.png></td>
<td></td></tr>
</table>

<li>メインとコマのスプライト間で使う変数 X、Y、Z を作ります</li>

<table>
<tr><td><img src=l2_var1.png width=250></td>
<td></td></tr>
</table>

<li>コマのスプライトのみで使う変数 _X、_Y、_Z を作ります</li>

<table>
<tr><td><img src=l2_var2.png width=250></td>
<td></td></tr>
</table>

<li>クローンされたとき _X、_Y、_Zの値を設定します</li>

<li><span>メッセージ INIT を受信したとき</li>

<table class=t>
<tr><td><img src=l2_init.png /></td>
<td></td></tr>
<tr><td><img src=l2_init1.png></td>
<td><p>_X、_Y の値を決定します</p></td></tr>
<tr><td><img src=l2_init2.png></td>
<td><p>_X、_Yの値に応じて表示位置を決めます</p>
<p>横位置 = _X * 21 + 10<br>
縦位置 = -10 - _Y * 21</p></td></tr>
</table>

<li>メッセージ SET を受信したとき、かつ、X、Y に一致する場合、スプライトの表示を変えます</li>

<table>
<tr><td><img src=l2_set.png></td>
<td></td></tr>
</table>

<h3>スプライト（メイン）を作ります</h3>

<li>「実行が押されたとき」に</li>

<div>

<li>利用するバンド、グループを宣言するブロックを配置します</li>
<li>スプライト（コマ）のクローンとメッセージ INIT の組みを64回繰り返します</li>

<table>
<tr><td><img src=l2_run.png></td>
<td></td></tr>
</table>
</div>

<li>「ずっと」の前に"start"を送信し、「ずっと」の中に受信した文字列を処理するブロックを配置します</li>

<div>

<li>メインのスプライトのみで使う変数 _V1、_V2を作ります</li>

<table><tr>
<td><img src=l2_loop.png></td>
<td></td>
</tr><tr>
<td><img src=l2_loop1.png></td>
<td><p>「board」から始まる場合は、それぞれの位置のスプライトを変更します</p></td>
</tr><tr>
<td><img src=l2_loop2.png></td>
<td><p>「stone」から始まる場合は、指定された位置のスプライトを変更します</p></td>
</tr></table>

<p>「board」「stone」の意味は <a href=../othello/docs.html>othello/docs.html</a> を見てください</p>

</div>

<li>他人からの通信を確認してみよう</li>

<div>

<li>Scratchプログラムを実行した状態で、<a href=/othello.html target=docs>othello.html</a> を開きます</li>

<li>othello.html上で白コマをはさめる位置をクリックします<br>
Scratchプログラムに最新の盤の状態（othello.htmlと同じ状態）が表示されたらOKです<br>

<div><img src=l2_html.png width=290><img src=l2_scratch.png></div></li>

</div></div>

<hr>

<h3>【自由研究】ゲームできるように改造してみよう</h3>

<p><a href=../othello/docs.html>othello/docs.html</a> を見て、Scratchからオセロゲームができるようにしてみよう</p>

<li>置くコマの色を表示しましょう<br>
次に打てる方は最後に送られてきた「player」の文字列でわかります</li>
<li>現在の白、黒のコマ数を表示しましょう<br>
現在の白、黒のコマ数は最後に送られてきた「white」「black」の文字列でわかります</li>
<li>マウス操作で黒コマを置けるようにしましょう<br>
置く（クリック）操作は「このスプライトが押されたとき」でプログラミングできます<br>
クリックされたスプライトの座標は、_X、_Y に入っています</li>

</body>
</html>
